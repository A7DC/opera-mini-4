<!doctype html>
<html class="no-js" lang="">

<head>
  <!-- Yandex.Metrika counter -->
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
  
    ym(54463084, "init", {
         clickmap:true,
         trackLinks:true,
         accurateTrackBounce:true,
         webvisor:true
    });
  </script>
  <noscript><div><img src="https://mc.yandex.ru/watch/54463084" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
  <!-- /Yandex.Metrika counter -->
  <meta charset="utf-8">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">

  <meta name="theme-color" content="#fafafa">
<link rel="stylesheet"
  href="https://d36r55ftass5h5.cloudfront.net/style-min-c2a639b83189798b17c126bc5562f51483f42528.css">
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/tachyons/4.11.1/tachyons.min.css'>

  <!-- <script>

    window.onload = function () {
      var button = document.getElementById('button');

      setGoal = function () {
        console.log("clicked");
        ym(54060910, 'reachGoal', 'TEST');
        return true;
      }

      button.addEventListener("click", setGoal);
    }

  </script> -->
  <!-- <script>
    window.onload = function () {
        onClick = function () {
          var button = document.getElementById('button');

          setGoal = function () {
            ym(54463084, 'reachGoal', 'TEST');
            console.log("Sgfdg")
            return true;
          }

          button.addEventListener('click', setGoal, false);
        }
      }
  </script> -->
  <style>
      .mla {
        margin-left: auto;
      }
    </style>
  <script language="JavaScript">

  window.onload = function(){
//// UI templates

var app = document.getElementById('root')


var container = document.createElement('div')
container.setAttribute('class', 'container')
app.appendChild(container)

    //// Requests   

    // Create a request variable and assign a new XMLHttpRequest object to it.
    const request = new XMLHttpRequest()

    const API = 'https://api.the-odds-api.com/v3/odds/?sport=soccer_epl&region=uk&apiKey=defc82153a6665e798e155ee81c31924'

    // Open a new connection, using the GET request on the URL endpoint
    request.open('GET', API, true)

    request.onload = function () {
      // Begin accessing JSON data here
      var data = JSON.parse(this.response)
      // data.data.forEach(match => {
      //   // Log each movie's title
      //   console.log(match, 'match')
      // })

      if (request.status >= 200 && request.status < 400) {
        data.data.forEach((match, index) => {
          console.log(match, 'match')
          const card = document.createElement('div')
          card.setAttribute('class', 'card')
          
          const odds = match.sites[0].odds

          // styles

          const cssClasses = {
            team: 'flex flex-row',
            radio: 'mla',
            title: 'f4'
          }

          const markup = `
            <div class='mb3 flex flex-column bg-near-white'>
              <div class="${cssClasses.team}">
                  <h2 class="${cssClasses.title}">${match.teams[0]}</h2>
                  <span class="${cssClasses.radio}">${odds.h2h[0]}<input type="radio" name="${index}" value="1"></span>
              </div>
              <div class="${cssClasses.team}">
                  <h2 class="${cssClasses.title}">Draw</h2>
                  <span class="${cssClasses.radio}">${odds.h2h[1]}<input type="radio" name="${index}" value="1"></span>
              </div>
              <div class="${cssClasses.team}">
                  <h2 class="${cssClasses.title}">${match.teams[1]}</h2>
                  <span class="${cssClasses.radio}">${odds.h2h[2]}<input type="radio" name="${index}" value="1"></span>
              </div>
            </div>
          `;
            
          card.innerHTML = markup
          console.log(card, 'card')

          container.appendChild(card)
        })
      } else {
        const errorMessage = document.createElement('marquee')
        errorMessage.textContent = `Gah, it's not working!`
        app.appendChild(errorMessage)
      }
    }

    // Send request
    request.send()


  }

  </script>
</head>

<body>
  <div id="root"></div>
</body>

</html>
